[gd_scene load_steps=11 format=3 uid="uid://dekn4skk8wu3e"]

[ext_resource type="Script" uid="uid://cv60n6muce5gv" path="res://code/bullet.gd" id="1_d153x"]
[ext_resource type="Texture2D" uid="uid://cb77gntwcyjit" path="res://asset/bullet.png" id="1_xtdve"]
[ext_resource type="Texture2D" uid="uid://bpkjnv5fmo2p3" path="res://asset/particle2.png" id="3_0jh1v"]
[ext_resource type="Texture2D" uid="uid://b41bqm2fm27bn" path="res://asset/bullet_pierce.png" id="3_ynwce"]
[ext_resource type="Texture2D" uid="uid://cgod60bbeeunr" path="res://asset/particle.png" id="5_4g3ti"]

[sub_resource type="CircleShape2D" id="CircleShape2D_d153x"]

[sub_resource type="Curve" id="Curve_0jh1v"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.9432624, 0.15730345), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_ynwce"]
curve = SubResource("Curve_0jh1v")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_4g3ti"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 12.0
velocity_pivot = Vector3(0, 100, 0)
direction = Vector3(1, 1, 0)
spread = 80.0
initial_velocity_min = -20.0
initial_velocity_max = 20.0
gravity = Vector3(0, 98, 0)
scale_min = 0.099999994
scale_max = 0.19999999
alpha_curve = SubResource("CurveTexture_ynwce")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1vos4"]
particle_flag_disable_z = true
gravity = Vector3(0, 0, 0)

[node name="bullet" type="CharacterBody2D"]
collision_layer = 4
collision_mask = 2
script = ExtResource("1_d153x")

[node name="spirtes" type="Node2D" parent="."]

[node name="pierce" type="Sprite2D" parent="spirtes"]
visible = false
texture = ExtResource("3_ynwce")

[node name="normal" type="Sprite2D" parent="spirtes"]
texture = ExtResource("1_xtdve")

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("CircleShape2D_d153x")

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
emitting = false
amount = 20
texture = ExtResource("3_0jh1v")
lifetime = 5.0
one_shot = true
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_4g3ti")

[node name="particle_timer" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[node name="tail" type="GPUParticles2D" parent="."]
visible = false
texture = ExtResource("5_4g3ti")
process_material = SubResource("ParticleProcessMaterial_1vos4")

[connection signal="screen_exited" from="VisibleOnScreenEnabler2D" to="." method="_on_visible_on_screen_enabler_2d_screen_exited"]
[connection signal="timeout" from="particle_timer" to="." method="_on_particle_timer_timeout"]
