[gd_scene load_steps=16 format=3 uid="uid://s4aa004npjfs"]

[ext_resource type="Script" uid="uid://cgvt47cl8kpmc" path="res://code/main_game.gd" id="1_44ujh"]
[ext_resource type="PackedScene" uid="uid://dwwg067l8r37s" path="res://code/score_ui.tscn" id="1_p7g5i"]
[ext_resource type="Texture2D" uid="uid://btbcduf0fklmb" path="res://asset/background1.png" id="2_bg1ql"]
[ext_resource type="PackedScene" uid="uid://df7x3hsymu301" path="res://code/player.tscn" id="2_wyj87"]
[ext_resource type="PackedScene" uid="uid://c1xsuen6pfee8" path="res://code/square.tscn" id="4_dfe3b"]
[ext_resource type="PackedScene" uid="uid://cui3l7juujpp8" path="res://code/triangle.tscn" id="5_5g0dd"]
[ext_resource type="PackedScene" uid="uid://cetqibemgnh11" path="res://code/pentagon.tscn" id="6_unppu"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_44ujh"]
size = Vector2(101, 692)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dfe3b"]
size = Vector2(1178, 20)

[sub_resource type="Curve2D" id="Curve2D_dfe3b"]

[sub_resource type="Curve" id="Curve_v8ayn"]
_data = [Vector2(0.0425532, 0.022471905), 0.0, 0.0, 0, 0, Vector2(0.30496454, 1), 0.0, 0.0, 0, 0, Vector2(0.9858156, 0.04494381), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_bg1ql"]
curve = SubResource("Curve_v8ayn")

[sub_resource type="Curve" id="Curve_en2lv"]
_data = [Vector2(0.035460994, 0.61797756), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_v8ayn"]
curve = SubResource("Curve_en2lv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3l570"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(550, 300, 1)
gravity = Vector3(0, 0, 0)
scale_min = 0.099999994
scale_max = 0.29999998
scale_curve = SubResource("CurveTexture_v8ayn")
alpha_curve = SubResource("CurveTexture_bg1ql")

[node name="main_game" type="Node2D"]
script = ExtResource("1_44ujh")

[node name="Area2D" type="StaticBody2D" parent="."]
collision_layer = 8

[node name="walls" type="CollisionShape2D" parent="Area2D"]
position = Vector2(1127.5, 316)
shape = SubResource("RectangleShape2D_44ujh")

[node name="walls2" type="CollisionShape2D" parent="Area2D"]
position = Vector2(576, 664)
shape = SubResource("RectangleShape2D_dfe3b")

[node name="walls3" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-16, 322)
shape = SubResource("RectangleShape2D_44ujh")

[node name="walls4" type="CollisionShape2D" parent="Area2D"]
position = Vector2(576, -16)
shape = SubResource("RectangleShape2D_dfe3b")

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_dfe3b")

[node name="score" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="score"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.18000486, 0.18000486, 0.18000486, 1)
metadata/_edit_lock_ = true

[node name="GPUParticles2D" type="GPUParticles2D" parent="score/ColorRect"]
position = Vector2(560, 298)
amount = 20
texture = ExtResource("2_bg1ql")
lifetime = 30.0
preprocess = 30.0
process_material = SubResource("ParticleProcessMaterial_3l570")

[node name="level" type="Node2D" parent="score"]
y_sort_enabled = true

[node name="square" parent="score/level" instance=ExtResource("4_dfe3b")]
position = Vector2(259, 131)

[node name="player" parent="score/level" instance=ExtResource("2_wyj87")]
unique_name_in_owner = true
position = Vector2(526, 296)
collision_mask = 10

[node name="pentagon" parent="score/level" instance=ExtResource("6_unppu")]
position = Vector2(776, 155)

[node name="triangle" parent="score/level" instance=ExtResource("5_5g0dd")]
position = Vector2(526, 113)

[node name="UI" parent="score" instance=ExtResource("1_p7g5i")]
visible = false

[node name="RichTextLabel" type="RichTextLabel" parent="score"]
anchors_preset = -1
anchor_left = 0.1
anchor_top = 0.4
anchor_right = 0.9
anchor_bottom = 0.6
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/default_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 10
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center]PRESS ANY KEY TO START [/center]"

[node name="Timers" type="Node" parent="."]

[node name="rage_timer" type="Timer" parent="Timers"]

[node name="pierce_timer" type="Timer" parent="Timers"]

[node name="spawn_timer" type="Timer" parent="Timers"]
wait_time = 2.0

[connection signal="timeout" from="Timers/rage_timer" to="." method="_on_rage_timer_timeout"]
[connection signal="timeout" from="Timers/pierce_timer" to="." method="_on_pierce_timer_timeout"]
[connection signal="timeout" from="Timers/spawn_timer" to="." method="_on_spawn_timer_timeout"]
